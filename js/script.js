let arrayContenidor = [{
        nombre: "DINERO",
        id: "0",
        img: "dinero",
        frase: ["Mil dosciento' en el bolsillo, vestimo' caro, voy por la Gran Vía y me están mirando raro.", "¿Quién no quiere tener dinero para repartir?.", "Blanqueando: KH7<br>Aparcaos en el Cash Converters vendiendo una tele nueva.", "Fiel a mí, como un cristiano a Dios<br>gasto más de lo que puedo y tengo.", "Nada rima mejor que el puto dinero<br>lo veo leelo, también lo huelo.", "Todo es una mentira, como Amancio y Zara. Ahí estaba,<br> esperando que lo hiciera, cuchillo entre las manos y la cara demacrada.", "Tú corres de los sapos, yo corro con los gastos.", "Loco no llevo ni 3 eurillo'.", "Todos tienen que comer, y en otro caso, <br> también fumar y joder, ahora tenemos mucha más money que fé."]
},
    {
        nombre: "AMOR",
        id: "1",
        img: "amor",
        frase: ["No somos tan distintos mamá, a mi me gusta el gucci a ti prada.", "Me decías que eras mía acostaos, pero tú no eres de nadie, bae, tú eres de to's lao’s.", "Hablo de amor y me temen, es un rollo que no entienden.", "No juegues con fuego que te quemas, <br> no pidas si luego tú no das.", "Tú y yo pegamos y tú poniendo pegas.. <br>vienes, me lio, la lío y te vas.", "Pasan los días, me faltas tú y me sobran todas.", "Ella me pinta siempre como el malo, <br>me pinta siempre de un color to' raro.", "Sé que en el amor tu especialidad es hacer daño.", "Te veo tan guapa que da miedo, te veo to lo que a mi me gusta, <br> que tú piense' igual no lo veo.", "Nene, tú me das de todo en exceso, <br> cuando lo hacemos, yo también siento eso."]
},
    {
        nombre: "EGO",
        id: "2",
        img: "ego",
        frase: ["Habla chucho, que no te escucho.<br> Siempre arriba como la bola en el cucurucho.", "Podría llevar Gucci falso si quiero, porque si soy yo el que lo llevo <br> simplemente asumen que es verdadero.", "Emojis de fuego y trofeos, tacho un logro y planeo dos nuevos.", "Cambiar la 'B' de 'BNMP' para que diga “Bisonte.", "El problema es que siempre hay un problema, <br> habláis de ruina y no sabéis lo que es.", "Me verás aparecer desde el fondo de la calle<br> con la sonrisa puesta y una bici low-rider.", "Bajo la tormenta perfecta con un zumo de piña surfeando en la cresta.", "Cuando muramos se verá quién ha ganao, quién estaba en la right y quién estaba equivocao'.", "Lo estoy haciendo como siempre, <br>relajao, lo que te rodea te preocupa demasiao.", "¿Cúal es el tabaco más caro?.", "En la calle ponte en bambas en casa con tacones.", "Querías el champagne y sólo pagaste fantas.", "Bajo a por algo y el paqui me dice 'ha subido el nivel'.", "A ti te dieron to' y no valoras na'."]
},
    {
        nombre: "AMISTAD",
        id: "3",
        img: "amistad",
        frase: ["Solo tengo cinco de verdad, la sexta se fue pa' Senegal.", "El malo no es tan malo ni el bueno es tan bueno.", "Prefiero un buen colega a mil que me llamen 'bro', <br> prefiero a mi mujer antes que el millón de 'hoes'.", "Ya no quiero nada, ya no busco más, <br> solo quiero libertad para mi y los demás.", "Y esto va para los que están, para lo que se van para los que llegarán.", "Pero sigo en el barrio, en la placita <br> bajo temprano con mi prenda favorita.", "Aprendimos a hacer 4 de 3, a hacer dinero antes de comer y por la noche ponerlo llover.", "Finesse con la triple S. <br> Mis zorras son influencers, pa' que compres droga te convencen.", "Lo que ganaba uno se partía por la mitad <br>y lo que ganaba dos valia para 4 más.", "Shout out pa' mis hoes, pa' mis bitches."]
},
    {
        nombre: "ENVIDIA",
        id: "4",
        img: "envidia",
        frase: ["Me da igual que a mi me comas el huevo<br> si estas hablando mierda de que tienes al lado.", "Soy la oveja negra, manzana podrida.<br> calzo falsedad, visto de mentira.", "Todos me piden, me piden pero no dan nada por mí.<br> Todos me ríen, me ríen pero no lloran por mí.", "¿A quién llamo el viernes? No sé de quién fiarme<br> porque solo veo serpientes que quieren comprarme. Calmense.", "Querías mocasín pero ere' un boca chancla.", "Me puso la tijera en el cuello.", "Tu te coje' un chete, <br>ya me esta mirando como si tengo la peste.", "Tengo gente que celebraría un party si muero <br>y otra gente que iría ese party a prenderle fuego.", "El que va a hacerte daño no dice ni pio.", "Meando en tu portal y masticando un boomer.", "Quieres ser como yo, pero es que no va así.<br>Jodido maniquí, jodido maricón.", "Cuando entro algunas miran con resentimiento,<br> porque ellas saben que ahora yo soy la del momento."]
},
    {
        nombre: "TRISTEZA",
        id: "5",
        img: "tristeza",
        frase: ["He regalao horas de música y cosas que nunca cuento. <br>Me gustaría ver que harían si estuvieran en mi puesto.", "Y tiro pa’ lante por que no me queda otra.", "Soy un gato nocturno, rulando en la ciudad esperando mi turno.", "Cansado tío, ya no estoy para darte explicaciones <br>pero como ya me debo a esto, venga dos cojones.", "Muerto en vida volvería a tropezarme y a levantarme y tú ni te enterarías.", "Avanzo pixelao perdiendo trozos.", "Pa' qué vamos a arreglarlo, si está roto,<br> prendo el amnesia head y me olvido de todo un rato.", "Sentado en el sofá no hay trabajo ni salida<br> papá y mamá no estarán toda la vida.", "Y a veces solo pienso si el morir es la solución.", "Duermo en la calle porque hay más estrellas que en ningún motel."]
},
    {
        nombre: "DROGAS",
        id: "6",
        img: "drogas",
        frase: ["Las botellas de vinos terminan en vidrios.", "Por no pensar en ti tengo que fumar.", "Este humo denso me hace levitar.", "Con los ojos que parezco de taiwán.", "Frio cuando hace calor, hielo estado mental.", "Por aquí se ha puesto oscuro, <br>pero seguimos colocados y sin nudos, bien chulos.", "Prendo, prendo, dentro yo lo enciendo <br> des de que entramos huele todo el club <br> des de que entramos huele hmm.", "Ahogando mis penas, chupando tarjetas. <br> Subiendo tensiones, bajando escaleras.", "Tu coño es mi droga, tu coño es mi droga, <br> tu coño es mi droga, tu coño es mi droga.", "La cuenta al día, puta, a nadie le debo <br> y el dinero me lo fumo, me lo bebo.", "Esta cara de felicidad debería ser por tu culpa, Pero no, no no, no.", "Cecilio, you smoke a lot. Smoke is killing you!.", "Me pintan rayas, me invitan a pitis, fumo gelato zorra, no fumo kriti."]
}];

let cancionesFondo = ["audio/music1.mp3", "audio/music2.mp3", "audio/music3.mp3"];

let aleatori;
let audio = document.getElementById('audio');
let song = document.getElementById('song');
let contadorJugades = 0;

function creaFrase() {
    aleatori = arrayContenidor.sort(function () {
        return 0.5 - Math.random()
    });
    let insertahtml1 = "<div class='lletresStart'></div>";
    let container_ruleta = "<div id='container-ruleta'></div>";
    $(".ruleta").append(insertahtml1);
    $(".ruleta").append(container_ruleta);
    for (i = 0; i < aleatori.length; i++) {
        let nombreArray = aleatori[i].nombre;
        let idNombre = aleatori[i].id;
        let insertahtml2 = "<h2 class='h2Ruleta" + i + " noselected' id='id" + idNombre + "'>" + nombreArray + "</h2>";
        $("#container-ruleta").append(insertahtml2);

    }
    let insertahtml3 = "<img id='idStop' src='img/stopme.svg' class='stop'>";
    $("#container-ruleta").append(insertahtml3);
    $("#idStop").on("click", pauseRuleta);

    if (contadorJugades == 0) {
        let insertahtml9 = "<img src='img/boto_stop.svg' class='stopBoto'>";
        $("#container-ruleta").append(insertahtml9);
        let insertahtml10 = "<div class='opacity-absolute'><h4>Haz <strong>click</strong> en el botón <strong>'stop me'</strong> para parar la ruleta</h4></div>";
        $(".ruleta").append(insertahtml10);

    }

    let insertahtml4 = "<div class='lletresEnd'></div>";
    $(".ruleta").append(insertahtml4);
    setTimeout(intervaloFunc, 1500);
}

var tope = 0;
var intervalo;
var intervalo2;
let time1 = 200;
let time2 = 260;

$(document).on("click", "#load", function () {
    TweenMax.to(".instruccions", .5, {
        display: "flex",
        opacity: 1
    })
    let musicaRandom = Math.floor(Math.random() * cancionesFondo.length);
    $("#song").attr("src", cancionesFondo[musicaRandom]);
    song.play();
    song.volume = 0.1;
    song.loop = true;
});

$(document).on("click", ".instruccions img", function () {
    TweenMax.to(".instruccions", .5, {
        x: "-300vw",
        display: "none"
    })
    TweenMax.to(".loading", .5, {
        x: "-300vw",
        display: "none"
    })
    TweenMax.to(".minijoc-container", .5, {
        x: 0
    })
    TweenMax.to(".logo", .5, {
        x: "-50%"
    })
    TweenMax.to(".minijuegos", .5, {
        x: "-50%"
    })
});

$(document).on("click", "#click", function () {
    TweenMax.to(".ruleta", 0, {
        display: "flex"
    })
    TweenMax.to("#minijoc1", .5, {
        x: "-100vw"
    })
    TweenMax.to(".minijuegos", .5, {
        x: "-100vw"
    })
    TweenMax.to(".minijoc-container", 1, {
        display: "none"
    })
    TweenMax.staggerTo("h2", 1, {
        y: 0,
        delay: 0.5
    }, 0.2)
    TweenMax.to(".stop", 1, {
        y: 0,
        delay: 1.8
    });

    if (contadorJugades == 0) {
        TweenMax.to(".stopBoto", 0.5, {
            delay: 2.8,
            opacity: 0.8
        });
        TweenMax.to(".opacity-absolute", 0.5, {
            display: "flex",
            delay: 1.8,
            opacity: 0.8
        });

        var tl1 = new TimelineMax({
            repeat: -1,
            delay: 1.8,
        })

        tl1.to(".stopBoto", 1, {
                opacity: 0.8
            })
            .to(".stopBoto", 1, {
                opacity: 0
            })
    }
});

$(document).on("click", ".stopBoto", function () {
    TweenMax.to(".opacity-absolute", 0.5, {
        opacity: 0,
        display: "none"
    })
    TweenMax.to(".stopBoto", 0.5, {
        opacity: 0,
        display: "none"
    })
});


function startRuleta() {
    setTimeout(borrarClasse, time1);
    $(".h2Ruleta" + tope + "").addClass("selected");
    $(".h2Ruleta" + tope + "").removeClass("noselected");
    tope++;

    if (tope >= aleatori.length) {
        tope = 0;
    }
    if (time2 < 2060) {
        setTimeout(startRuleta, time2);
        audio.setAttribute('src', "audio/ruletamp3.mp3");
        audio.play();
    }
}


function borrarClasse() {
    if (tope != 0) {
        $(".h2Ruleta" + (tope - 1) + "").addClass("noselected");
        $(".h2Ruleta" + (tope - 1) + "").removeClass("selected");
    } else {
        $(".h2Ruleta" + (aleatori.length - 1) + "").addClass("noselected");
        $(".h2Ruleta" + (aleatori.length - 1) + "").removeClass("selected");
    }
}

function pauseRuleta() {
    $("#idStop").off("click", pauseRuleta);
    $(".stop").css("opacity", "0.5");
    var intervalo = setInterval(function () {
        time1 = time1 + 100;
        time2 = time2 + 100;
        if (time1 == 2000 && time2 == 2060) {
            //clearInterval(intervalo);
            clearInterval(intervalo);
            $(".h2Ruleta" + (tope - 1) + "").addClass("selected");
            TweenMax.to(".noselected", 0.5, {
                x: "-100vw",
                display: "none"
            });
            TweenMax.to(".stop", 0.5, {
                y: "100vh",
                display: "none"
            });
            TweenMax.to(".logo", 0.5, {
                y: "100vh"
            });
            TweenMax.to("h2", 0, {
                fontFamily: "UltraSystemSans"
            });
            animacioLletres();
        }
    }, 200);
}

function intervaloFunc() {
    setTimeout(startRuleta, 500);
}

function animacioLletres() {
    $(".h2Ruleta" + tope + "").removeClass("noselected");
    audio.setAttribute('src', "");
    if ((tope - 1) == -1) {
        tope = aleatori.length;
    }
    let nombreAleatori = aleatori[tope - 1].nombre;
    let insertaLletresStart = "<h2 class='h2Ruleta" + tope + " opacity0'>" + nombreAleatori + "</h2>";
    let insertaLletresEnd = "<h2 class='h2Ruleta" + tope + " opacity0'>" + nombreAleatori + "</h2>";
    for (i = 0; i < 10; i++) {
        $(".lletresStart").append(insertaLletresStart);
        $(".lletresEnd").append(insertaLletresEnd);
    }

    setTimeout(function () {
        var tl1 = new TimelineMax({
                paused: true
            }),
            elements1 = $("div.lletresStart > .opacity0"),
            elements2 = $("div.lletresEnd > .opacity0");

        var tn1 = new TweenMax.staggerTo(elements1, 0, {
            opacity: 1,
            fontFamily: "UltraSystemSansLineTwo"
        }, -.2);
        var tn2 = new TweenMax.staggerTo(elements2, 0, {
            opacity: 1,
            fontFamily: "UltraSystemSansLineTwo"
        }, .2);
        TweenMax.to("h2", 0, {
            y: 0
        })
    }, 1200);
    mostraImatge(tope);
}

let ilustra1;
let ilustra2;
let ilustra3;
let ilustra4;

function mostraImatge(posicio) {
    if ((posicio - 1) == -1) {
        posicio = aleatori.length;
    }
    let icona = aleatori[posicio - 1].img;
    if (contadorJugades == 0) {
        ilustra1 = icona;
    }
    if (contadorJugades == 1) {
        ilustra2 = icona;
    }
    if (contadorJugades == 2) {
        ilustra3 = icona;
    }
    if (contadorJugades == 3) {
        ilustra4 = icona;
    }
    let iconaHTML = "<div class='continer-img2' onclick='mostraFrase(" + posicio + ")'><div class='continer-img2'><img class='w-100' src='img/papel3.png'></div><img src='img/" + icona + ".svg'></div>";
    $(".ruleta").append("<div class='absoluteimg'></div>");
    TweenMax.to(".absoluteimg", 0, {
        display: "flex"
    })
    $(".absoluteimg").append("<img class='flecha-down' src='img/flecha_down.svg' onclick='mostraFrase(" + posicio + ")'>");
    $(".absoluteimg").append(iconaHTML);
    setTimeout(function () {
        $(".ruleta").append("<img class='cercle' src='img/cercle.svg' onclick='mostraFrase(" + posicio + ")'>");
    }, 3200);
    TweenMax.to(".absoluteimg", 0.4, {
        transform: "translate(-50%, -50%)",
        delay: 3
    })
    TweenMax.to(".continer-img2 .w-100", 1, {
        transform: "rotate(-8deg)",
        delay: 3
    })
}

let frasePantallaFinal1;
let frasePantallaFinal2;
let frasePantallaFinal3;
let frasePantallaFinal4;

function mostraFrase(posicio) {
    TweenMax.to(".ruleta", .3, {
        x: "-100vw",
        display: "none"
    });
    TweenMax.to(".carousel", 0, {
        display: "none"
    });
    TweenMax.to(".frase", 0, {
        display: "flex"
    });
    if ((posicio - 1) == -1) {
        posicio = aleatori.length;
    }
    let aleatoriFrase = Math.floor(Math.random() * aleatori[posicio - 1].frase.length);
    let nombreFrase = aleatori[posicio - 1].frase[aleatoriFrase];
    let fraseHTML;
    if (contadorJugades == 0) {
        fraseHTML = "<div class='continer-img3'><div class='continer-img3'><img class='w-150' src='img/papel3.png'></div><p>" + nombreFrase + "</p><h4 class='frase-reset'>Ya tienes la <strong>primera estrofa</strong> de tu cancion, sigue jugando para conseguir más.<br><br><strong>1/4</strong></h4></div>";
        frasePantallaFinal1 = nombreFrase;
    }
    if (contadorJugades == 1) {
        fraseHTML = "<div class='continer-img3'><div class='continer-img3'><img class='w-150' src='img/papel3.png'></div><p>" + nombreFrase + "</p><h4 class='frase-reset'>Ya tienes la <strong>segunda estrofa</strong> de tu cancion, sigue jugando para conseguir más.<br><br><strong>2/4</h4></strong></div>";
        frasePantallaFinal2 = nombreFrase;
    }
    if (contadorJugades == 2) {
        fraseHTML = "<div class='continer-img3'><div class='continer-img3'><img class='w-150' src='img/papel3.png'></div><p>" + nombreFrase + "</p><h4 class='frase-reset'>Ya tienes la <strong>tercera estrofa</strong> de tu cancion, sigue jugando para conseguir más.<br><br><strong>3/4</strong></h4></div>";
        frasePantallaFinal3 = nombreFrase;
    }
    if (contadorJugades == 3) {
        fraseHTML = "<div class='continer-img3'><div class='continer-img3'><img class='w-150' src='img/papel3.png'></div><p>" + nombreFrase + "</p><h4 class='frase-reset'>Tu canción ya está <strong>terminada</strong>, mira como ha quedado.<br><br><strong>4/4</strong></h4></div>";
        frasePantallaFinal4 = nombreFrase;
    }


    $(".frase").append(fraseHTML);
    $(".frase").append("");
    $(".frase").append("<img id='flechaClick' class='flecha-frase' src='img/flecha.svg' onclick='mostraContador()'>");
    TweenMax.to(".continer-img3", 1, {
        y: 0
    });
    TweenMax.to(".flecha-frase", 1, {
        y: 0
    });
    TweenMax.to(".logo", 1, {
        y: 0
    });
}

function mostraContador() {
    TweenMax.to(".continer-img3.continer-img3", .5, {
        x: "-100vw"
    });
    TweenMax.to(".continer-img3 p", .5, {
        x: "-100vw"
    });
    TweenMax.to(".frase-reset", .5, {
        left: "150vw",
        transform: "translate(-50vw, -50%)"
    });
    if (contadorJugades < 3) {
        document.getElementById("flechaClick").onclick = function () {
            reset()
        };
    } else {
        document.getElementById("flechaClick").onclick = function () {
            pantallaFinal()
        };
    }

}

function reset() {

    contadorJugades++;
    TweenMax.to(".frase-reset", .5, {
        left: "50%",
        transform: "translate(-50%, -50%)"
    });
    TweenMax.to(".flecha-frase", .5, {
        x: "-100vw"
    });

    TweenMax.to(".ruleta", 0, {
        display: "none",
        x: "0"
    })

    time1 = 200;
    time2 = 260;
    tope = 0;

    $('.ruleta').empty();

    TweenMax.to(".carousel", 0, {
        transform: "translate(-50%, -50%)",
        display: "block"
    })
    TweenMax.to("#minijoc1", 0, {
        x: "0"
    })
    TweenMax.to(".minijoc-container", 0, {
        display: "block"
    })
    TweenMax.to(".minijuegos", 0, {
        x: "100vw"
    })
    TweenMax.to(".minijuegos", .5, {
        x: "0"
    })
    TweenMax.to("h2", 0, {
        y: "100vh",
        fontFamily: 'UltraSystemSansLineTwo',
        margin: "5px 0"
    })
    TweenMax.to(".stop", 0, {
        transform: "translateY(100vh) rotate(-2deg)"
    });
    TweenMax.to(".noselected", 0, {
        x: "0",
        display: "block"
    });
    TweenMax.to(".logo", 0, {
        transform: "translate(-50%, 0)"
    });
    TweenMax.to(".frase", 0, {
        display: "none"
    })
    TweenMax.to(".carousel", 0, {
        x: "100vw",
        left: 0
    })
    TweenMax.to(".carousel", 0.5, {
        x: "0"
    })
    $('.frase').empty();
    if (contadorJugades == 4) {
        $(".logo").attr("src", "img/logo_light.svg");
        TweenMax.to(".frase", 0, {
            x: 0
        })
        TweenMax.to(".cancion", 0, {
            display: "none"
        })
        TweenMax.to(".cancion", 0, {
            transform: "translate(100vw, -100vh)"
        })
        $('.cancion').empty();

        let musicaRandom = Math.floor(Math.random() * cancionesFondo.length);
        $("#song").attr("src", cancionesFondo[musicaRandom]);
        song.play();
        song.volume = 0.1;
        song.loop = true;
        contadorJugades = 0;
    }
}

function pantallaFinal() {
    $(".logo").attr("src", "img/logo.svg");
    TweenMax.to(".frase", 0.5, {
        x: "-100vw"
    })
    TweenMax.to(".cancion", 0, {
        display: "flex"
    })
    TweenMax.to(".cancion", 0.5, {
        transform: "translate(0, -100vh)"
    })
    $(".cancion").append("<div class='row'><div class='w-50 flex-start'><img src='img/" + ilustra1 + ".svg'></div><div class='w-50 flex-end'><img src='img/" + ilustra2 + ".svg'></div></div>");
    $(".cancion").append("<img class='mt-30 cancion-svg' src='img/tuCancion.svg'>");
    let pantallaFin = "<p class='w-80'>" + frasePantallaFinal1 + "<br></p><p class='w-80'>" + frasePantallaFinal2 + "<br></p><p class='w-80'>" + frasePantallaFinal3 + "<br></p><p class='w-80'>" + frasePantallaFinal4 + "</p>";
    $(".cancion").append(pantallaFin);
    $(".cancion").append("<div class='column'><div class='w-100 flex-start resp-50'><img class='mb--15' src= 'img/" + ilustra3 + ".svg'></div><div class='w-100 flex-center resp-50'><img class='w-40' src='img/tryAgain2.svg' onclick='reset()'></div><div class='w-100 flex-end resp-50'><img class='mt--15' src= 'img/" + ilustra4 + ".svg'></div></div>");
    song.volume = 0.4;

}


console.clear && console.clear();

var transitionEnd = 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend';

function Carousel(selector) {
    var self = this;
    var $carousel = $(selector);
    var $container = $('.minijoc-container', selector);
    var $panes = $('.minijoc', selector);

    var paneWidth = 0;
    var paneCount = $panes.length;
    var panBoundary = .25; // if the pane is paned .25, switch to the next pane.

    var currentPane = 0;

    function setPaneSize() {
        paneWidth = $carousel.width();
        $panes.each(function (i) {
            $(this).width(paneWidth);
        });
        $container.width(paneWidth * paneCount);
    }

    self.init = function () {
        setPaneSize();
        $(window).on('load resize orientationchange', function () {
            setPaneSize();
            self.showPane(currentPane);
        })
    }

    self.showPane = function (index) {
        currentPane = Math.max(0, Math.min(index, paneCount - 1));
        setContainerOffsetX(-currentPane * paneWidth, true);
    }

    function setContainerOffsetX(offsetX, doTransition) {
        if (doTransition) {
            $container
                .addClass('transition')
                .one(transitionEnd, function () {
                    $container.removeClass('transition');
                })
        }
        $container.css({
            left: offsetX
        });
    }

    self.next = function () {
        self.showPane(++currentPane);
    }
    self.prev = function () {
        self.showPane(--currentPane);
    }

    function handleHammer(e) {
        switch (e.type) {
            case 'swipeleft':
            case 'swiperight':
                handleSwipe(e);
                break;
            case 'panleft':
            case 'panright':
            case 'panend':
            case 'pancancel':
                handlePan(e);
                break;
        }
    }

    function handleSwipe(e) {
        switch (e.direction) {
            case Hammer.DIRECTION_LEFT:
                self.next();
                break;
            case Hammer.DIRECTION_RIGHT:
                self.prev();
                break;
        }
        hammer.stop(true);
    }

    function outOfBound() {
        var left = $container.position().left;
        return (currentPane == 0 && left >= 0) ||
            (currentPane == paneCount - 1 && left <= -paneWidth * (paneCount - 1));
    }

    function handlePan(e) {
        switch (e.type) {
            case 'panleft':
            case 'panright':
                // Slow down at the first and last pane.
                if (outOfBound()) {
                    e.deltaX *= .2;
                }
                setContainerOffsetX(-currentPane * paneWidth + e.deltaX);
                console.log(-currentPane * paneWidth + e.deltaX);
                break;
            case 'panend':
            case 'pancancel':
                if (Math.abs(e.deltaX) > paneWidth * panBoundary) {
                    if (e.deltaX > 0) {
                        self.prev();
                    } else {
                        self.next();
                    }
                } else {
                    self.showPane(currentPane);
                }
                break;
        }
    }

    var hammer = new Hammer($carousel[0]).on('swipeleft swiperight panleft panright panend pancancel', handleHammer);
}

var c = new Carousel('.carousel');
c.init();
c.showPane(0);




// First we get the viewport height and we multiple it by 1% to get a value for a vh unit
let vh = window.innerHeight * 0.01;
// Then we set the value in the --vh custom property to the root of the document
document.documentElement.style.setProperty('--vh', `${vh}px`);

// We listen to the resize event
window.addEventListener('resize', () => {
    // We execute the same script as before
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
});
